# index.life - Локальный дневник настроения

> **Русская версия** | [English version](README.md)

Приложение для отслеживания настроения, призванное помочь людям лучше помнить и осознавать себя и своё время.

![Version](https://img.shields.io/badge/version-2.1.0-blue)
![Python](https://img.shields.io/badge/python-3.8%2B-green)
![Flask](https://img.shields.io/badge/flask-3.0.0-lightgrey)
![License](https://img.shields.io/badge/license-MIT-yellow)

---

## Установка

### Вариант 1: Готовые сборки (рекомендуется)

Скачайте готовую версию для вашей операционной системы из Releases:

**Windows:**
1. Скачайте `index-life_windows_x64.zip`
2. Распакуйте архив
3. Запустите `index-life.exe`

> При первом запуске Windows может показать предупреждение "Непроверенный издатель". Это нормально для приложений без платной цифровой подписи. Нажмите "Подробнее" → "Выполнить в любом случае".

**macOS:**
1. Скачайте `index-life_macos.dmg`
2. Откройте DMG файл и перетащите приложение в папку Applications
3. **Важно!** macOS блокирует неподписанные приложения. Откройте Terminal и выполните:
   ```bash
   xattr -d com.apple.quarantine /Applications/index.life.app
   ```
4. Теперь запустите index.life из папки Applications

> Приложение запустит Flask сервер в фоне и автоматически откроет браузер.

**Linux:**
1. Скачайте `index-life_linux_x86_64.AppImage`
2. Сделайте файл исполняемым:
   ```bash
   chmod +x index-life_linux_x86_64.AppImage
   ```
3. Запустите:
   ```bash
   ./index-life_linux_x86_64.AppImage
   ```

**Опциональные модули (AI + Voice):**
- В папке релиза запустите `install_modules.bat` (Windows) или `install_modules.sh` (macOS/Linux).
- Рекомендуется Python 3.10. В Windows установщик сам поставит Python, если его нет.

### Вариант 2: Установка через скрипты (с исходным кодом)

Если вы хотите запускать из исходников:

**Windows:**
```bash
# Двойной клик на install.bat (первый запуск)
# Двойной клик на start.bat (последующие запуски)
```

**Linux/macOS:**
```bash
chmod +x install.sh start.sh
./install.sh  # Первый запуск (установит Python при необходимости)
./start.sh    # Последующие запуски
```

**Опциональные модули (AI + Voice):**
- Запустите `install_modules.bat` / `install_modules.sh`
- Подробности — в `MODULES.md`

---

## Возможности

- Календарь с визуальной картой всех записей
- Ежедневные записи с оценкой настроения (1-10) и заметками
- Статистика по среднему настроению и количеству записей
- Профиль с именем, email и фотографией
- 100% приватность - все данные хранятся локально (SQLite)
- Работает полностью офлайн
- Простой веб-интерфейс
- Опциональный AI‑психолог и голосовая диктовка (после установки модулей)

---

## Структура проекта

```
index-life-local/
├─ app/
│  ├─ modules/            # Опциональные модули (assistant, voice)
│  ├─ templates/          # HTML шаблоны
│  └─ static/             # Статические файлы (CSS, JS, изображения)
├─ tools/                 # Вспомогательные скрипты (установщик модулей)
├─ config.py              # Конфигурация
├─ run.py                 # Точка входа
├─ requirements.txt       # Зависимости Python
├─ install.bat/.sh        # Установка
├─ start.bat/.sh          # Запуск
├─ install_modules.bat/.sh# Установщик модулей
├─ MODULES.md             # Гайд по модулям
└─ diary.db               # База данных SQLite (создаётся при первом запуске)
```

---

## Технологии

- **Backend**: Flask 3.0.0
- **База данных**: SQLite (через Flask-SQLAlchemy)
- **Frontend**: HTML, CSS, Vanilla JavaScript
- **Изображения**: Pillow (Python Imaging Library)
- **Опционально**: llama-cpp-python, sentence-transformers, faster-whisper

---

## Частые вопросы

**Где хранятся мои данные?**
В файле `diary.db` в директории приложения. Для резервного копирования просто скопируйте этот файл.

**Можно ли использовать на нескольких устройствах?**
Это локальное приложение. Для синхронизации между устройствами можно использовать облачное хранилище (Dropbox, Google Drive) для файла `diary.db`.

**Зашифрованы ли мои данные?**
База данных не зашифрована по умолчанию. Убедитесь, что ваше устройство защищено паролем.

**Нужен ли интернет для работы?**
Нет, приложение работает полностью офлайн на вашем компьютере.

**Можно ли экспортировать данные?**
Да, все данные хранятся в стандартном формате SQLite в файле `diary.db`, который можно копировать и открывать в любых SQLite инструментах.

**Нужно ли регистрироваться?**
Нет, просто запустите приложение и начните пользоваться. Никаких аккаунтов или паролей.

**Как включить AI и голосовые модули?**
Запустите `install_modules.bat` (Windows) или `install_modules.sh` (macOS/Linux) и следуйте подсказкам.

**Какая версия Python нужна?**
Рекомендуется Python 3.10. Приложение также работает с Python 3.8+.

---

## Лицензия

MIT License - См. файл LICENSE для подробностей

---

## Автор

**Эмиль Алексанян (Émile Alexanyan)**

Создано, чтобы помочь лучше помнить и понимать себя через ежедневную рефлексию.
